# 履歴書・職務経歴書作成アプリ 仕様書

> 最終更新: 2026年2月14日 (v8)

## 1. 概要

履歴書（2ページ）および職務経歴書（2ページ）をWindows・iPhone・Android上でオフライン完結で作成・PDF出力するPWAアプリ。  
基本情報を一度入力すれば保存され、応募先ごとに志望動機・自己PR等のみ切り替えて即座にPDFを生成できる。

### 1.1 設計方針

- **毎回の作成を最小限に**: 基本情報・学歴・職歴・資格は一度入力すれば自動復元。応募先ごとに変わる項目（提出日・志望動機・自己PR）だけ編集すれば新しい書類が完成する
- **サーバー不要**: 全処理をクライアントサイド（ブラウザ内）で完結。GitHub Pagesで静的ファイルを配信するのみ
- **マルチプラットフォーム対応**: Windows（Chrome/Edge）、iPhone（Safari）、Android（Chrome）の各ブラウザで動作。「ホーム画面に追加」/「アプリとしてインストール」でネイティブアプリ風に利用可能。初回アクセス後はオフラインで利用可能
- **日本語のみ（初期リリース）**: 英語対応は将来拡張として検討

---

## 2. 技術構成

| 項目 | 技術 |
|------|------|
| アプリ形式 | PWA（Progressive Web App） |
| フロントエンド | HTML / CSS / JavaScript（フレームワーク不使用） |
| PDF生成 | jsPDF + html2canvas（CDN → Service Workerキャッシュ） |
| データ保存 | IndexedDB |
| ホスティング | GitHub Pages（HTTPS） |
| 対応環境 | Windows（Chrome/Edge）、iPhone（Safari）、Android（Chrome） |
| オフライン | Service Worker によるフルキャッシュ |

---

## 3. ファイル構成

```
ResumeCreater/
├── index.html              # SPA エントリポイント
├── manifest.json           # PWA マニフェスト
├── sw.js                   # Service Worker（オフラインキャッシュ）
├── css/
│   └── style.css           # スタイル（A4レイアウト・フォーム・レスポンシブ）
├── js/
│   ├── app.js              # メインロジック・UI制御・タブ切替・イベント管理
│   ├── db.js               # IndexedDB 管理（CRUD操作）
│   ├── pdf-generator.js    # PDF生成処理（jsPDF + html2canvas）
│   ├── templates.js        # 履歴書・職務経歴書HTMLテンプレート生成
│   ├── csv-handler.js      # CSVインポート/エクスポート処理
│   └── utils.js            # ユーティリティ（年齢計算・日付フォーマット等）
├── assets/
│   └── icons/              # PWAアイコン（192x192, 512x512）
├── doc/
│   ├── README.md           # プロジェクト概要
│   └── SPEC.md             # 本仕様書
└── sample/                 # サンプルPDF・DOCX（参照用）
```

---

## 4. データモデル（IndexedDB）

データベース名: `ResumeCreaterDB`

### 4.1 profile ストア（1件固定）

基本的な個人情報。アプリ起動時に自動読み込みされる。

| フィールド | 型 | 必須 | 説明 |
|-----------|------|:----:|------|
| id | number | ○ | 固定値 1 |
| name | string | ○ | 氏名 |
| nameKana | string | ○ | ふりがな |
| birthDate | string | ○ | 生年月日（YYYY-MM-DD） |
| gender | string | | 性別（記載は任意） |
| postalCode | string | ○ | 郵便番号（例: 100-0001） |
| address | string | ○ | 現住所 |
| addressKana | string | ○ | 住所ふりがな |
| phone | string | ○ | 電話番号 |
| email | string | ○ | メールアドレス |
| contactPostalCode | string | | 連絡先郵便番号 |
| contactAddress | string | | 連絡先住所 |
| contactAddressKana | string | | 連絡先住所ふりがな |
| contactPhone | string | | 連絡先電話 |
| contactEmail | string | | 連絡先Email |
| photo | string | | 証明写真（Base64エンコード） |

### 4.2 education ストア

学歴・職歴の各エントリ。履歴書の学歴・職歴テーブルに表示される。

| フィールド | 型 | 必須 | 説明 |
|-----------|------|:----:|------|
| id | number | ○ | 自動採番 |
| year | number | ○ | 年（西暦） |
| month | number | ○ | 月 |
| content | string | ○ | 内容（例: 東京都立○○高等学校 普通科 入学） |
| type | string | ○ | "学歴" or "職歴" |
| order | number | ○ | 表示順序 |

### 4.3 career ストア

職務経歴の詳細。職務経歴書の■職務経歴セクションに使用される。

| フィールド | 型 | 必須 | 説明 |
|-----------|------|:----:|------|
| id | number | ○ | 自動採番 |
| companyName | string | ○ | 会社名 |
| employmentType | string | ○ | 雇用形態（正社員/派遣社員/契約社員等） |
| startDate | string | ○ | 開始年月（YYYY-MM） |
| endDate | string | ○ | 終了年月（YYYY-MM）または "現在" |
| businessContent | string | | 事業内容 |
| capital | string | | 資本金 |
| revenue | string | | 売上高 |
| employeeCount | string | | 従業員数 |
| listing | string | | 上場区分（未上場/東証プライム等） |
| position | string | | 役職・ポジション名 |
| department | string | | 配属先・部署 |
| dispatchTo | string | | 派遣先企業名（派遣の場合） |
| dispatchFrom | string | | 派遣会社名/派遣元（派遣の場合） |
| isDispatch | boolean | | 派遣として勤務フラグ |
| duties | string[] | | 【業務内容】箇条書きリスト |
| achievements | string[] | | 【業務上の工夫・成果】箇条書きリスト |
| order | number | ○ | 表示順序（新しい職歴が上） |

### 4.4 qualifications ストア

資格・免許の一覧。履歴書と職務経歴書の両方で使用される。

| フィールド | 型 | 必須 | 説明 |
|-----------|------|:----:|------|
| id | number | ○ | 自動採番 |
| year | number | ○ | 取得年 |
| month | number | ○ | 取得月 |
| content | string | ○ | 資格名＋取得/修了（例: 普通自動車第一種免許 取得） |
| order | number | ○ | 表示順序 |

### 4.5 applications ストア（応募先別セット）

応募先企業ごとの固有情報。複数保存しドロップダウンで切り替える。

| フィールド | 型 | 必須 | 説明 |
|-----------|------|:----:|------|
| id | number | ○ | 自動採番 |
| companyName | string | ○ | 応募先企業名（識別用） |
| submissionDate | string | ○ | 提出日（YYYY-MM-DD） |
| careerSummary | string | | 職務要約（職務経歴書用） |
| motivation | string | | 志望動機（履歴書用【志望理由】） |
| selfPR | string | | 自己PR（履歴書用【自己PR】） |
| skills | object[] | | 活かせるスキル・強み（{title, description}の配列） |
| careerMotivation | string | | 志望動機（職務経歴書用） |
| personalRequest | string | | 本人希望記入欄 |
| createdAt | string | ○ | 作成日時（ISO 8601） |
| updatedAt | string | ○ | 更新日時（ISO 8601） |

---

## 5. 画面構成

### 5.1 メイン画面（タブ切替 UI）

4つのタブで入力フォームを切り替える。各タブでの変更は自動保存（IndexedDB）。

| タブ | 内容 |
|------|------|
| **基本情報** | 氏名・ふりがな・生年月日・性別・住所・連絡先・証明写真アップロード |
| **学歴・職歴** | 学歴エントリの追加/編集/削除/並替、職歴エントリの追加/編集/削除/並替 |
| **資格・スキル** | 資格・免許の追加/編集/削除/並替 |
| **応募先管理** | 応募先セットの新規作成/選択/編集/削除、提出日入力、志望動機・自己PR・職務要約・スキルPR・本人希望の入力 |

### 5.2 プレビュー画面

- A4比率で履歴書2ページ＋職務経歴書2ページを表示
- 上部に応募先ドロップダウンを配置、選択切替で志望動機・PR・提出日・年齢が即反映
- 各ページは縦スクロールで連続表示
- 下部に操作ボタン:
  - 「履歴書PDF保存」
  - 「職務経歴書PDF保存」
  - 「一括PDF保存」
  - 「戻る」（入力画面へ）

### 5.3 ヘッダー/ナビゲーション

- アプリタイトル「履歴書メーカー」
- 「入力」「プレビュー」の画面切替ボタン
- 「エクスポート」「インポート」ボタン（メニュー内）

---

## 6. 履歴書レイアウト仕様（2ページ）

サンプルPDFに準拠したJIS規格風の表組みレイアウト。

### ページ1

```
┌──────────────────────────────────────────────────────┐
│ 履歴書                YYYY年 MM月 DD日現在  ┌──────┐ │
│                                             │ 写真 │ │
│ ふりがな  ○○○ ○○○                          │      │ │
│ 氏名    ○○ ○○                              │      │ │
│                                             └──────┘ │
│         YYYY年 MM月 DD日生 （満XX歳）   ※性別       │
│                                              ○      │
│ ふりがな ○○○○○○○○○○○○○             電話           │
│ 現住所  〒XXX-XXXX                     E-mail        │
│         ○○○○○○○○○                                  │
│ ふりがな                                電話         │
│ 連絡先  〒        （現住所以外に連絡を   E-mail       │
│                    希望する場合のみ記入）              │
├────┬────┬─────────────────────────────────────────────┤
│ 年 │ 月 │  学 歴 ・ 職 歴（各別にまとめて書く）      │
├────┼────┼─────────────────────────────────────────────┤
│    │    │              学歴                           │
│20XX│ 04 │ ○○県立○○高等学校 普通科 入学              │
│20XX│ 03 │ ○○県立○○高等学校 普通科 卒業              │
│20XX│ 04 │ ○○大学 ○○学部 ○○学科 入学               │
│20XX│ 03 │ ○○大学 ○○学部 ○○学科 卒業               │
│    │    │                                             │
│    │    │              職歴                           │
│20XX│ 04 │ 株式会社○○サービス 入社（正社員）           │
│    │    │   主に接客・営業補助に従事                   │
│20XX│ 07 │ 株式会社○○サービス 退職                     │
│20XX│ 03 │ 株式会社△△ケア 入社（派遣社員）             │
│    │    │   ○○総合病院にて                            │
│    │    │   派遣社員として就業                         │
│    │    │ 現在に至る                                   │
└────┴────┴─────────────────────────────────────────────┘
```

### ページ2

```
┌────┬────┬─────────────────────────────────────────────┐
│ 年 │ 月 │  学 歴 ・ 職 歴（各別にまとめて書く）      │
├────┼────┼─────────────────────────────────────────────┤
│    │    │（空行 × 数行）                              │
├────┼────┼─────────────────────────────────────────────┤
│ 年 │ 月 │          資 格 ・ 免 許                     │
├────┼────┼─────────────────────────────────────────────┤
│20XX│ 07 │ 普通自動車第一種免許 取得                    │
│20XX│ 09 │ ○○資格 取得                                 │
│    │    │（空行）                                     │
├────┴────┴─────────────────────────────────────────────┤
│ 志望の動機、特技、好きな学科、アピールポイントなど    │
├───────────────────────────────────────────────────────┤
│ 【志望理由】                                          │
│  （応募先セットごとに入力した志望理由が表示される）    │
│                                                       │
│                                                       │
│                                                       │
│ 【自己PR】                                            │
│  （応募先セットごとに入力した自己PRが表示される）      │
│                                                       │
├───────────────────────────────────────────────────────┤
│ 本人希望記入欄（特に給料・職種・勤務時間・勤務地・    │
│ その他についての希望などがあれば記入）                 │
├───────────────────────────────────────────────────────┤
│ （本人希望記入欄に入力した内容が表示される）          │
│（空行）                                               │
├───────────────────────────────────────────────────────┤
│ ※「性別」欄：記載は任意です。未記載とすることも可能です。│
└───────────────────────────────────────────────────────┘
```

---

## 7. 職務経歴書レイアウト仕様（2ページ）

### ページ1

```
┌──────────────────────────────────────────────────────┐
│              職 務 経 歴 書                           │
│                                                      │
│                          YYYY年MM月DD日現在           │
│                          氏名  ○○ ○○               │
│                                                      │
│ ■職務要約                                            │
│  （応募先セットごとに入力した職務要約が表示される）    │
│                                                      │
│                                                      │
│ ■職務経歴                                            │
│ YYYY年MM月～現在 派遣先：○○総合病院/ 派遣元：株式会社△△ケア│
│ ┌────────────────────────────────────┬────────────┐  │
│ │事業内容：○○業                      │ ○○職     │  │
│ │資本金：XXXX万円 売上高：XX億 万円    │（派遣社員）│  │
│ │従業員数：X,XXX名  上場：未上場      │ として勤務 │  │
│ ├────────┬───────────────────────────┴────────────┤  │
│ │YYYY年  │ ○○科 にて従事                         │  │
│ │MM月    ├────────────────────────────────────────┤  │
│ │～      │【業務内容】                             │  │
│ │現在    │ - 業務内容1の説明...                    │  │
│ │        │ - 業務内容2の説明...                    │  │
│ │        │【業務上の工夫・成果】                    │  │
│ │        │ - 工夫・成果1の説明...                  │  │
│ └────────┴────────────────────────────────────────┘  │
│                                                      │
│ YYYY年MM月～YYYY年MM月  株式会社○○サービス           │
│ ┌────────────────────────────────────┬────────────┐  │
│ │事業内容：○○業                      │○○スタッフ│  │
│ │資本金：XXXX万円 売上高：XX億万円     │（正社員）  │  │
│ │従業員数：XXX人  上場：未上場         │ として勤務 │  │
│ ├────────┬───────────────────────────┴────────────┤  │
│ │YYYY年  │ ○○支店 にて従事                        │  │
│ │MM月    ├────────────────────────────────────────┤  │
│ │～      │【業務内容】                             │  │
│ │YYYY年  │ - 業務内容1...                          │  │
│ │MM月    │【業務上の工夫・成果】                    │  │
│ │        │ - 工夫・成果1...                        │  │
│ └────────┴────────────────────────────────────────┘  │
│                                           1 / 2      │
└──────────────────────────────────────────────────────┘
```

### ページ2

```
┌──────────────────────────────────────────────────────┐
│ ■資格                                                │
│ ┌────────────────────────┬─────────────────────┐     │
│ │ 普通自動車第一種免許     │ 20XX年XX月 取得     │     │
│ │ ○○資格                 │ 20XX年XX月 取得     │     │
│ └────────────────────────┴─────────────────────┘     │
│                                                      │
│ ■ 活かせるスキル・強み                                │
│ ① スキルタイトル1                                    │
│ （スキルの説明文が表示される）                        │
│                                                      │
│                                                      │
│ ② スキルタイトル2                                    │
│ （スキルの説明文が表示される）                        │
│                                                      │
│                                                      │
│ ③ スキルタイトル3                                    │
│ （スキルの説明文が表示される）                        │
│                                                      │
│                                                      │
│ ④ スキルタイトル4                                    │
│ （スキルの説明文が表示される）                        │
│                                                      │
│ ⑤ スキルタイトル5                                    │
│ （スキルの説明文が表示される）                        │
│                                                      │
│ ■ 志望動機                                           │
│  （応募先セットごとに入力した志望動機が表示される）    │
│                                                      │
│                                                      │
│                                                      │
│                                                      │
│                                         以上         │
│                                           2 / 2      │
└──────────────────────────────────────────────────────┘
```

---

## 8. 機能仕様

### 8.1 年齢自動計算

- 生年月日（profile.birthDate）と応募先セットの提出日（applications.submissionDate）から「満○○歳」を計算
- 提出日時点での満年齢を算出（誕生日前なら-1）
- 提出日変更時にプレビューへ即反映

### 8.2 提出日管理

- 応募先セット（applications）ごとに提出日を保持
- 履歴書の「○年○月○日現在」と職務経歴書の「○年○月○日現在」の両方に反映
- 新規応募先作成時は当日日付をデフォルト設定

### 8.3 応募先セット管理

- 複数の応募先を保存し、ドロップダウンで切替可能
- 企業名で識別表示
- 新規作成 / 複製（既存セットをコピーして編集）/ 削除に対応
- セットに含まれる項目：
  - 企業名、提出日
  - 志望動機（履歴書用【志望理由】）
  - 自己PR（履歴書用【自己PR】）
  - 本人希望記入欄
  - 職務要約（職務経歴書用）
  - 活かせるスキル・強み（職務経歴書用、タイトル＋説明文の配列）
  - 志望動機（職務経歴書用）

### 8.4 証明写真

- カメラ撮影またはファイル選択でアップロード
- Base64エンコードで IndexedDB に保存
- プレビュー・PDF上の写真枠（3cm × 4cm相当）に表示
- 未設定の場合は破線枠のみ表示

### 8.5 PDF生成

- クライアントサイドで完結（jsPDF + html2canvas）
- A4サイズ（210mm × 297mm）で出力
- 出力ファイル名: `YYMMDD_氏名_履歴書.pdf` / `YYMMDD_氏名_職務経歴書.pdf`
  - YYMMDD は提出日
- 個別出力（履歴書のみ / 職務経歴書のみ）および一括出力に対応
- iPhone/Androidでは共有シートが開き保存先を選択可能、Windowsではダウンロードフォルダに保存

### 8.6 オフライン動作

- Service Worker により全アセット（HTML/CSS/JS）およびCDNライブラリ（jsPDF, html2canvas）をプリキャッシュ
- 初回アクセス後はインターネット接続不要
- IndexedDB データはブラウザ内に永続保存
- iPhone: 「ホーム画面に追加」、Android: 「ホーム画面に追加」、Windows: 「アプリとしてインストール」でスタンドアロンモード（ブラウザUI非表示）起動

### 8.7 データインポート/エクスポート

#### JSON形式（フルバックアップ）
- **エクスポート**: 全ストアのデータを1つのJSONファイルとしてダウンロード（バックアップ用）
- **インポート**: JSONファイルを選択して全データを復元（機種変更・データ移行用）
- エクスポートファイル名: `resume_backup_YYYYMMDD.json`

#### CSV形式（データ別インポート/エクスポート）
- ストアごとに個別のCSVファイルとしてエクスポート/インポートが可能
- 対応ストア:
  - `profile.csv` — 基本情報（1行）
  - `education.csv` — 学歴・職歴一覧（年, 月, 内容, 種別, 表示順）
  - `career.csv` — 職務経歴一覧（会社名, 雇用形態, 開始年月, 終了年月, 事業内容, ...）
  - `qualifications.csv` — 資格・免許一覧（年, 月, 内容, 表示順）
  - `applications.csv` — 応募先セット一覧（企業名, 提出日, 志望動機, ...）
- CSVエンコーディング: UTF-8（BOM付き、Excel互換）
- 配列フィールド（duties, achievements, skills）はJSON文字列としてセル内に格納
- Excelやスプレッドシートで直接編集してインポート可能

---

## 9. UI/UX設計

### 9.1 レスポンシブ対応

- スマートフォン（375px〜）〜 タブレット（768px〜）〜 PC（1024px+）に対応
- iPhone SE / Android端末 / iPad / Windows PC を網羅
- タッチ操作に最適化: ボタンは最低44px × 44px のタップ領域を確保
- フォーム入力欄は十分な高さ・余白を確保

### 9.2 カラースキーム

- メインカラー: #2563eb（ブルー）
- 背景: #f8fafc（ライトグレー）
- テキスト: #1e293b（ダークグレー）
- アクセント: #059669（グリーン、保存完了等）
- エラー: #dc2626（レッド）

### 9.3 操作フロー（典型的な使用パターン）

#### 初回利用時
1. アプリにアクセス（GitHub Pages URL）
2. 「ホーム画面に追加」を促すバナー表示
3. 基本情報タブで個人情報を入力（自動保存）
4. 学歴・職歴タブでエントリを追加
5. 資格・スキルタブで資格を追加
6. 応募先管理タブで応募先を作成、提出日・志望動機等を入力
7. プレビューで確認 → PDF保存

#### 2回目以降（新しい応募先）
1. アプリを開く（基本情報は自動復元済み）
2. 応募先管理タブで「新規作成」
3. 企業名・提出日・志望動機・自己PRを入力
4. プレビューで確認 → PDF保存

---

## 10. デプロイ手順

### 10.1 GitHub Pages での配信

1. GitHubにリポジトリ `ResumeCreater` を作成（または既存リポジトリをpush）
2. リポジトリの Settings > Pages を開く
3. Source: `Deploy from a branch` を選択
4. Branch: `main`、フォルダ: `/ (root)` を選択して Save
5. 数分後に `https://<username>.github.io/ResumeCreater/` でアクセス可能に

### 10.2 各プラットフォームでのインストール

#### iPhone（Safari）
1. Safari で上記URLにアクセス
2. 画面下部の共有ボタン（□↑）をタップ
3. 「ホーム画面に追加」を選択
4. アプリ名を確認して「追加」をタップ
5. ホーム画面にアイコンが追加され、以降はオフライン利用可能

#### Android（Chrome）
1. Chrome で上記URLにアクセス
2. アドレスバーの「インストール」バナー、またはメニュー（⋮）→「アプリをインストール」をタップ
3. ホーム画面にアイコンが追加され、以降はオフライン利用可能

#### Windows（Chrome / Edge）
1. Chrome または Edge で上記URLにアクセス
2. アドレスバー右側のインストールアイコン（⊕）をクリック、または メニュー →「アプリとしてインストール」
3. デスクトップ/スタートメニューにアプリが追加され、以降はオフライン利用可能

---

## 11. 将来拡張（対象外）

以下は初期リリースには含まず、将来的な拡張として検討する。

- 英語対応（多言語化）
- 複数テンプレートの選択機能
- フォント・色・レイアウトのカスタマイズ
- 自動バックアップ（定期的なJSONエクスポート）
- クラウド同期
